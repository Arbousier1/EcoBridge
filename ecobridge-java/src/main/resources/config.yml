# ============================================================
# EcoBridge Configuration v0.8.8 (Hardened Edition)
# Kernel: Java 25 (FFM/Loom) + Rust (SIMD) + Redis (Pub/Sub)
# ============================================================

# [系统内核设置]
system:
  debug: false
  log-sample-rate: 100
  trade-throttle-ms: 150
  # [校准] 增加日志开关，对应 TradeListener 逻辑
  log-transactions: true
  intercept-commands:
    - "pay"
    - "transfer"
    - "epay"
    - "auditpay"

# [分布式同步 (Redis)]
redis:
  enabled: true
  host: "127.0.0.1"
  port: 6379
  user: ""
  password: ""
  ssl: false
  server-id: "survival-01"
  channels:
    trade: "ecobridge:global_trade"

# [数据库 (HikariCP + Virtual Threads)]
database:
  host: "localhost"
  port: 3306
  database: "ecobridge"
  username: "root"
  password: "your_strong_password"
  pool-size: 10

# [经济核心模型]
economy:
  # [校准] 路径对齐 TransferManager.java 中的 economy.currency-id
  currency-id: "coins"

  # [宏观] M1 货币供应目标
  m1-supply: 10000000.0

  # [宏观] 波动性阈值 (触发 PID 介入)
  volatility-threshold: 50000.0

  # [校准] 增加热度自然衰减率，对应 EconomyManager 逻辑 (0.05 = 每天衰减5%)
  daily-decay-rate: 0.05

  # [微观] 动态定价参数
  # [校准] 键名对齐 UShopProvider 逻辑
  lambda: 0.002
  tau: 7.0

  # [环境因子] Rust 核心权重参数 (MarketConfig SSoT)
  seasonal-amplitude: 0.15
  weekend-multiplier: 1.2
  # [校准] 键名对齐 UShopProvider.java (去掉了 -rate)
  newbie-protection: 0.2
  force-festival-mode: false

  # [数据回溯]
  history-days-limit: 30
  max-history-records: 3000

  # [金融风控审计] (RegulatorConfig SSoT)
  audit-settings:
    base-tax-rate: 0.05
    luxury-threshold: 100000.0
    luxury-tax-rate: 0.10
    wealth-gap-tax-rate: 0.20
    poor-threshold: 10000.0
    rich-threshold: 1000000.0
    # [校准] 键名对齐 TransferManager 逻辑 (去掉了 -receive)
    newbie-limit: 50000.0
    warning-ratio: 0.9
    warning-min-amount: 50000.0
    newbie-hours: 10.0
    veteran-hours: 100.0

# [节假日 API]
holiday-api:
  url-template: "https://holiday.ailcc.com/api/holiday/year/{year}"
  fallback-is-holiday: false

# [物品特定覆盖配置]
item-settings:
  miner_shop:
    diamond:
      lambda: 0.0001
      weights:
        seasonal: 0.0
        inflation: 0.5

# [内部状态 - 请勿手动修改]
internal:
  economy-heat: 0.0